
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>

    <!-- Render the button based on the value passed from the controller -->
    <div id="buttonStatePartialContainer">
        <!-- Partial view will be loaded here -->
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Fetch Remote Config parameters periodically
            setInterval(function () {
                $.ajax({
                    url: '@Url.Action("GetRemoteConfig", "Home")',
                    type: 'GET',
                    success: function (data) {
                        $('#buttonStatePartialContainer').html(data);
                    },
                    error: function () {
                        // Handle error if needed
                    }
                });
            }, 5000); // Refresh every 5 seconds (adjust as needed)
        });
    </script>
}
